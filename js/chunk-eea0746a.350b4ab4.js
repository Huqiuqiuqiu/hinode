(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-eea0746a"],{3064:function(t,n,e){},"498a":function(t,n,e){"use strict";var o=e("23e7"),s=e("58a8").trim,i=e("c8d2");o({target:"String",proto:!0,forced:i("trim")},{trim:function(){return s(this)}})},5899:function(t,n){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,n,e){var o=e("e330"),s=e("1d80"),i=e("577e"),a=e("5899"),c=o("".replace),r="["+a+"]",u=RegExp("^"+r+r+"*"),l=RegExp(r+r+"*$"),p=function(t){return function(n){var e=i(s(n));return 1&t&&(e=c(e,u,"")),2&t&&(e=c(e,l,"")),e}};t.exports={start:p(1),end:p(2),trim:p(3)}},"77d7":function(t,n,e){},"7b26":function(t,n,e){"use strict";e.r(n);var o=function(){var t=this,n=t.$createElement,e=t._self._c||n;return t.post?e("div",{staticClass:"post"},[e("div",{staticClass:"post-container",staticStyle:{width:"100%"}},[e("Panel",{scopedSlots:t._u([{key:"content2",fn:function(){return[e("div",{staticClass:"post-header"},[e("h2",[t.post.top?e("el-tag",{staticStyle:{"margin-right":"10px"},attrs:{size:"mini",type:"primary"}},[t._v("置顶")]):t.post.good?e("el-tag",{staticStyle:{"margin-right":"10px"},attrs:{size:"mini",type:"primary"}},[t._v("精华")]):t._e(),t._v(" "+t._s(t.post.title)+" ")],1),e("div",{staticClass:"post-info"},[e("ul",{staticClass:"tips"},[e("li",[t._v("发布于"+t._s(t._f("moment")(t.post.last_reply_at,"from","now")))]),e("li",[t._v("作者"+t._s(t.post.author.loginname))]),e("li",[t._v(t._s(t.post.visit_count)+"次浏览")]),e("li",[t._v("来自"+t._s(t._f("transformTab")(t.post.tab)))])]),t.info?e("el-button",{attrs:{size:"mini",type:t.post.is_collect?"info":"primary"},on:{click:t.collect}},[t._v(t._s(t.post.is_collect?"取消收藏":"收藏"))]):t._e()],1),t.editBtnVisible?e("el-button",{attrs:{size:"mini"},on:{click:t.edit}},[t._v("编辑")]):t._e()],1),e("div",{staticClass:"post-content",domProps:{innerHTML:t._s(t.post.content)}})]},proxy:!0}],null,!1,2878128719)}),t.info?e("Panel",{scopedSlots:t._u([{key:"header",fn:function(){return[t._v("添加回复")]},proxy:!0},{key:"content",fn:function(){return[e("mavon-editor",{attrs:{defaultOpen:"edit",subfield:!1,boxShadow:!1,autofocus:!1},model:{value:t.content,callback:function(n){t.content=n},expression:"content"}}),e("el-button",{attrs:{type:"primary"},on:{click:t.add}},[t._v("回复")])]},proxy:!0}],null,!1,773413516)}):t._e(),e("Panel",{scopedSlots:t._u([{key:"header",fn:function(){return[e("span",[t._v(t._s(t.post.reply_count)+"回复")])]},proxy:!0},{key:"content",fn:function(){return t._l(t.post.replies,(function(n,o){return e("PostCommentItem",t._b({key:o},"PostCommentItem",Object.assign({},{index:o},n),!1))}))},proxy:!0}],null,!1,2371068212)})],1),t.postLoginname?e("AsideInfo",{attrs:{postLoginname:t.postLoginname}}):t._e()],1):e("el-skeleton",{attrs:{rows:6,animated:""}})},s=[],i=e("5530"),a=e("1da1"),c=(e("498a"),e("96cf"),e("f34a")),r=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"post-comment-item"},[e("router-link",{attrs:{to:"/user/"+t.author.loginname}},[e("el-avatar",{attrs:{size:"medium",src:t.author.avatar_url}})],1),e("div",{staticClass:"comment-right"},[e("div",{staticClass:"comment-content"},[e("span",[t._v(t._s(t.author.loginname))]),e("span",{staticClass:"index"},[t._v(t._s(t.index+1)+"楼")]),e("div",{domProps:{innerHTML:t._s(t.content)}}),e("span",{staticClass:"create_at"},[t._v(t._s(t._f("moment")(t.create_at,"from","now")))])]),e("div",{staticClass:"like"},[e("span",{on:{click:t.upsClick}},[t.is_uped?e("i",{staticClass:"iconfont icon-dianzan1"}):e("i",{staticClass:"iconfont icon-dianzan"})]),e("span",[t._v(t._s(t.ups.length?t.ups.length:""))])])])],1)},u=[],l=e("2f62"),p={props:["author","index","create_at","content","id","ups","is_uped"],methods:Object(i["a"])(Object(i["a"])({},Object(l["b"])(["upsHandle"])),{},{upsClick:function(){this.upsHandle(this.id)}})},d=p,f=(e("7dca"),e("2877")),m=Object(f["a"])(d,r,u,!1,null,null,null),_=m.exports,h=e("555c"),v={components:{Panel:c["a"],PostCommentItem:_,AsideInfo:h["a"]},data:function(){return{content:"",postLoginname:""}},created:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.getPost(t.id);case 2:t.postLoginname=t.post.author.loginname;case 3:case"end":return n.stop()}}),n)})))()},computed:Object(i["a"])(Object(i["a"])({id:function(){return this.$route.params.id}},Object(l["d"])({post:function(t){return t.post.post},info:function(t){return t.login.info}})),{},{editBtnVisible:function(){var t=this.info,n=this.post;return t&&n.author_id===t.id}}),methods:Object(i["a"])(Object(i["a"])({},Object(l["b"])(["getPost","collectHandle","addComment"])),{},{collect:function(){this.collectHandle({id:this.post.id,is_collect:!this.post.is_collect})},add:function(){this.content.trim()&&this.addComment({id:this.post.id,content:this.content})},edit:function(){this.$router.push("/post/".concat(this.id,"/edit"))}})},b=v,g=(e("c2bf"),Object(f["a"])(b,o,s,!1,null,null,null));n["default"]=g.exports},"7dca":function(t,n,e){"use strict";e("3064")},c2bf:function(t,n,e){"use strict";e("77d7")},c8d2:function(t,n,e){var o=e("5e77").PROPER,s=e("d039"),i=e("5899"),a="​᠎";t.exports=function(t){return s((function(){return!!i[t]()||a[t]()!==a||o&&i[t].name!==t}))}}}]);
//# sourceMappingURL=chunk-eea0746a.350b4ab4.js.map